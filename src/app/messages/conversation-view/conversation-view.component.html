<mat-card *ngIf="profile" style="margin-bottom:10px">
  <div class="conversation-view">
    <div class="pic-and-name">
      <img class="profile-image" [src]="profileImage">
      <span class="display-name">{{profile.displayName ? profile.displayName : profile.username}}</span>
      <span class="location">{{profile.location.city}}, {{profile.location.stateProvince}}, {{profile.location.country}}</span>
    </div>
    <div class="message-area">
      <span class="user-said">{{latestMessage.sendUser == loggedInUser ? 'You' : profile.displayName ? profile.displayName : profile.username}}&nbsp;said:</span>
      <div [class]="latestMessage.sendUser == loggedInUser ? 'message-sent' : 'message-received'">
        <div class="message-text">{{latestMessage.messageText}}</div>
      </div>
      <span *ngIf="latestMessage.receiveUser == profile.username && latestMessage.status == 'read'" class="message-info">Read&nbsp;@&nbsp;{{latestMessage.readTimestamp | date: 'E MMM d yyyy hh:mm:ss'}}</span>
      <span *ngIf="latestMessage.receiveUser != profile.username || latestMessage.status == 'sent'" class="message-info">Sent&nbsp;@&nbsp;{{latestMessage.sendTimestamp | date: 'E MMM d yyyy hh:mm:ss'}}</span>
      <div class="button-area">
        <button mat-raised-button [color]="getOpenMessageButtonColor()" (click)="openConversation()"><mat-icon>{{getOpenMessageButtonIcon()}}</mat-icon>&nbsp;{{getOpenMessageButtonText()}}</button>&nbsp;
        <button mat-raised-button color="primary" (click)="showProfileDialog()"><mat-icon>remove_red_eye</mat-icon>&nbsp;View Profile</button>
      </div>
    </div>
  </div>
</mat-card>
